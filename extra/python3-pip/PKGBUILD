pkgname=('python3-pip')
pkgver=18.1
pkgrel=1
pkgdesc="The PyPA recommended tool for installing Python packages"
url="https://pip.pypa.io/"
arch=('any')
license=('MIT')
makedepends=('python3' 'python3-setuptools')
source=('https://files.pythonhosted.org/packages/45/ae/8a0ad77defb7cc903f09e551d88b443304a9bd6e6f124e75c0fbbf6de8f7/pip-18.1.tar.gz')
sha256sums=('c0a292bd977ef590379a3f05d7b7f65135487b67470f6281289a94e015650ea1')

package_python3-pip() {
  depends=('python3' 'python3-setuptools')

  cd "$srcdir/pip-$pkgver"
  python3 setup.py build
  python3 setup.py install --prefix=/opt/arch --root="$pkgdir"

  rm $pkgdir/opt/arch/bin/pip

  install -d -m755 \
	  "$pkgdir/opt/arch/share/licenses/$pkgname"
  install -m644 LICENSE.txt \
	  "$pkgdir/opt/arch/share/licenses/$pkgname/LICENSE"
}

#package_python2-pip() {
#  depends=('python2' 'python2-setuptools')
#
#  cd "$srcdir/pip-$pkgver"
#  python2 setup.py build
#  python2 setup.py install --prefix=/opt/arch --root="$pkgdir"
#
#  mv "$pkgdir/opt/arch/bin/pip" "$pkgdir/opt/arch/bin/pip2"
#  sed -i "s|#!/usr/bin/env python$|#!/usr/bin/env python2|" \
#    ${pkgdir}/opt/arch/lib/python2.7/site-packages/pip/__init__.py
#  python2 -m compileall ${pkgdir}/opt/arch/lib/python2.7/site-packages/pip/__init__.py
#
#  install -d -m755 \
#	  "$pkgdir/opt/arch/share/licenses/$pkgname"
#  install -m644 LICENSE.txt \
#	  "$pkgdir/opt/arch/share/licenses/$pkgname/LICENSE"
#}
